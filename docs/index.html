<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Index</title>
    
    
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="https://fonts.googleapis.com/css?family=Libre+Franklin:400,700" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/main.css">

    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>
    <button id="menuToggle" class="btn btn-link btn-lg menu-toggle">
        <span class="glyphicon glyphicon-menu-hamburger"></span>
    </button>
    <div class="search">
        <input id="search" type="text" class="form-control input-md" placeholder="Search...">
    </div>
    <ul class="list">
    
    
        <li class="item" data-name="global">
            <span class="title namespace ">
                
                <span class="namespaceTag">
                    <span class="glyphicon glyphicon-globe"></span>
                </span>
                
                
                    <a href="global.html">Global</a>
                
            </span>
            
            <ul class="members itemMembers">
            
            </ul>
            
            <ul class="typedefs itemMembers">
            
            <span class="subtitle">Typedefs</span>
            
                <li class="parent" data-name="WSData"><a href="global.html#WSData">WSData</a></li>
            
            </ul>
            
            <ul class="typedefs itemMembers">
            
            </ul>
            
            <ul class="methods itemMembers">
            
            </ul>
            
            <ul class="events itemMembers">
            
            </ul>
            
        </li>
    
        <li class="item" data-name="Websockets">
            <span class="title  ">
                
                
                    <a href="Websockets.html">Websockets</a>
                
            </span>
            
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li class="parent " data-name="Websockets.CLOSE_CODES"><a href="Websockets.html#.CLOSE_CODES">CLOSE_CODES</a></li>
            
                <li class="parent " data-name="Websockets.DEFAULT_EVENTS"><a href="Websockets.html#.DEFAULT_EVENTS">DEFAULT_EVENTS</a></li>
            
                <li class="parent " data-name="Websockets.DEFAULT_OPTIONS"><a href="Websockets.html#.DEFAULT_OPTIONS">DEFAULT_OPTIONS</a></li>
            
                <li class="parent " data-name="Websockets#_conn_retries"><a href="Websockets.html#_conn_retries">_conn_retries</a></li>
            
                <li class="parent " data-name="Websockets#_data_size"><a href="Websockets.html#_data_size">_data_size</a></li>
            
                <li class="parent " data-name="Websockets#_data_size"><a href="Websockets.html#_data_size">_data_size</a></li>
            
                <li class="parent " data-name="Websockets#_events"><a href="Websockets.html#_events">_events</a></li>
            
                <li class="parent " data-name="Websockets#_send_retries"><a href="Websockets.html#_send_retries">_send_retries</a></li>
            
                <li class="parent " data-name="Websockets#client"><a href="Websockets.html#client">client</a></li>
            
                <li class="parent " data-name="Websockets#events"><a href="Websockets.html#events">events</a></li>
            
                <li class="parent " data-name="Websockets#hasSupport"><a href="Websockets.html#hasSupport">hasSupport</a></li>
            
                <li class="parent " data-name="Websockets#isClosed"><a href="Websockets.html#isClosed">isClosed</a></li>
            
                <li class="parent " data-name="Websockets#isConnecting"><a href="Websockets.html#isConnecting">isConnecting</a></li>
            
                <li class="parent " data-name="Websockets#isInitialized"><a href="Websockets.html#isInitialized">isInitialized</a></li>
            
                <li class="parent " data-name="Websockets#isOpen"><a href="Websockets.html#isOpen">isOpen</a></li>
            
                <li class="parent " data-name="Websockets#isSending"><a href="Websockets.html#isSending">isSending</a></li>
            
                <li class="parent " data-name="Websockets#options"><a href="Websockets.html#options">options</a></li>
            
                <li class="parent " data-name="Websockets#scheme"><a href="Websockets.html#scheme">scheme</a></li>
            
                <li class="parent " data-name="Websockets#url"><a href="Websockets.html#url">url</a></li>
            
            </ul>
            
            <ul class="typedefs itemMembers">
            
            </ul>
            
            <ul class="typedefs itemMembers">
            
            </ul>
            
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li class="parent  " data-name="Websockets#_connectionRetry"><a href="Websockets.html#_connectionRetry">_connectionRetry</a></li>
            
                <li class="parent  " data-name="Websockets#_debug"><a href="Websockets.html#_debug">_debug</a></li>
            
                <li class="parent  " data-name="Websockets#_dispatch"><a href="Websockets.html#_dispatch">_dispatch</a></li>
            
                <li class="parent  " data-name="Websockets#_instantiateClient"><a href="Websockets.html#_instantiateClient">_instantiateClient</a></li>
            
                <li class="parent  " data-name="Websockets#_messagesHandler"><a href="Websockets.html#_messagesHandler">_messagesHandler</a></li>
            
                <li class="parent  " data-name="Websockets#_namespacedType"><a href="Websockets.html#_namespacedType">_namespacedType</a></li>
            
                <li class="parent  " data-name="Websockets#_on"><a href="Websockets.html#_on">_on</a></li>
            
                <li class="parent  " data-name="Websockets#_onProgress"><a href="Websockets.html#_onProgress">_onProgress</a></li>
            
                <li class="parent  " data-name="Websockets#_prepareData"><a href="Websockets.html#_prepareData">_prepareData</a></li>
            
                <li class="parent  " data-name="Websockets#connect"><a href="Websockets.html#connect">connect</a></li>
            
                <li class="parent  " data-name="Websockets#destroy"><a href="Websockets.html#destroy">destroy</a></li>
            
                <li class="parent  " data-name="Websockets#disconnect"><a href="Websockets.html#disconnect">disconnect</a></li>
            
                <li class="parent  " data-name="Websockets#emit"><a href="Websockets.html#emit">emit</a></li>
            
                <li class="parent  " data-name="Websockets#off"><a href="Websockets.html#off">off</a></li>
            
                <li class="parent  " data-name="Websockets#on"><a href="Websockets.html#on">on</a></li>
            
                <li class="parent  " data-name="Websockets#once"><a href="Websockets.html#once">once</a></li>
            
                <li class="parent  " data-name="Websockets#onMessage"><a href="Websockets.html#onMessage">onMessage</a></li>
            
                <li class="parent  " data-name="Websockets#send"><a href="Websockets.html#send">send</a></li>
            
            </ul>
            
            <ul class="events itemMembers">
            
            </ul>
            
        </li>
    
    </ul>
</div>

    <div class="main">
        <h1 class="page-title" data-filename="index.html">Index</h1>
        


    


    <h3> </h3>








    




    <section>
        <article class="readme content-size"><h1>Websockets</h1>
<p>A simple JavaScript class to handle browser-side Websockets.</p>
<blockquote>
<p>Note : this library provides an API only for browser-side Websokets.</p>
</blockquote>
<h2>Getting started</h2>
<p>Include <code>Websockets.min.js</code> script in your HTML :</p>
<pre class="prettyprint source lang-html"><code>&lt;script defer src=&quot;path/to/Websockets.min.js&quot;>&lt;/script>
</code></pre>
<p>And declare a new instance in your script :</p>
<pre class="prettyprint source lang-javascript"><code>const client = new Websockets({
    port: 9000,
    scheme: 'ws',
    onprogress(progress, dataSize, data) {
        if (progress === 0) {
            console.log('Data sended successfully !')
        } else {
            console.log(`${dataSize - progress}/${dataSize} bytes have been sent.`)
        }
    }
})

client.on(Websockets.DEFAULT_EVENTS.CONNECTED, () => {
    console.log(&quot;It's alive ! ALIVE !&quot;)
})

client.on('wakedup', () => {
    console.log(&quot;Waked up !&quot;)
})

await client.connect()

await client.emit('wakeup', { body: &quot;It's time to wake up !&quot; })

client.destroy()
</code></pre>
<p>And.. that's it ! :)</p>
<p><br><br></p>
<h2>Available getters and methods</h2>
<h3>Getters</h3>
<pre class="prettyprint source lang-typescript"><code>// Websockets class default options
static DEFAULT_OPTIONS: Object.&lt;String, any>

// WebSocket native API close codes
static CLOSE_CODES: Object.&lt;Number, String>
// Websockets class default events
static DEFAULT_EVENTS: Object.&lt;String, String>

// WebSocket schme ('auto', 'ws', 'wss')
scheme: String

// WebSocket URL
url: String

// Registered events via `Websockets.on()` method
events: Object.&lt;String, Array>

// returns true if WebSocket API is supported by the browser, false otherwise
hasSupport: Boolean

// returns true if WebSocket client is instantiated, false otherwise
isInitialized: Boolean

// returns true if WebSocket client is connecting, false otherwise
isConnecting: Boolean

// returns true if WebSocket client is connected, false otherwise
isOpen: Boolean

// returns true if WebSocket client is sending data, false otherwise
isSending: Boolean

// returns true if WebSocket connection is closing or closed, false otherwise
isClosed: Boolean
</code></pre>
<p><br><br></p>
<h3>Methods</h3>
<ul>
<li><code>connect(): Promise</code></li>
</ul>
<p>Connect the WebSocket client to the specified endpoint.</p>
<pre class="prettyprint source lang-javascript"><code>await client.connect()
</code></pre>
<br>
<ul>
<li><code>send(data: any): Promise</code></li>
</ul>
<p>send data to server</p>
<pre class="prettyprint source lang-javascript"><code>await client.send('PING')
</code></pre>
<br>
<ul>
<li><code>emit(type: String, payload?: any = '', namespaced?: boolean = true): Promise</code></li>
</ul>
<p>Format a data object with <code>type</code> and <code>payload</code>, and send it to the server. If <code>namespaced</code> is false, <code>type</code> parameter will doesn't be prefixed by the namespace specified in the Websockets instance options.</p>
<pre class="prettyprint source lang-javascript"><code>// Emit 'USER_MESSAGE' event to the server with a payload
await client.emit('USER_MESSAGE', { message: 'Hello, World !', user_id: 1 })


// Emit 'USER_MESSAGE' event to the server with a payload and without namespace
await client.emit('USER_MESSAGE', { message: 'Hello, World !', user_id: 1 }, false)
</code></pre>
<br>
<ul>
<li><code>on(type: String, callback: Function, namespaced?: boolean = true): Websockets</code></li>
</ul>
<p>Add an event. If <code>namespaced</code> is false, <code>type</code> parameter will doesn't be prefixed by the namespace specified in the Websockets instance options.</p>
<pre class="prettyprint source lang-javascript"><code>// Listen to 'PONG' event from the server
client.on('PONG', () => console.log('The server responds with PONG !'))

// Send 'PING' event to the server
await client.send('PING')
</code></pre>
<br>
<ul>
<li><code>once(type: String, callback: Function, namespaced?: boolean = true): Websockets</code></li>
</ul>
<p>Add an event. This event will be listenend only once. After that, it will be deleted.
If <code>namespaced</code> is false, <code>type</code> parameter will doesn't be prefixed by the namespace specified in the Websockets instance options.</p>
<pre class="prettyprint source lang-javascript"><code>// Listen to 'PONG' event from the server
client.once('PONG', () => console.log('This event is unique !'))

// Send 'PING' event to the server
await client.send('PING')
</code></pre>
<br>
<ul>
<li><code>off(type: String, callback?: Function = null, namespaced?: boolean = true): Websockets</code></li>
</ul>
<p>Removes an event. if <code>callback</code> parameter is <code>null</code>, all events of type <code>type</code> will be removed, otherwise, only the event that corresponds to the <code>callback</code> parameter will be removed. If <code>namespaced</code> is false, <code>type</code> parameter doesn't be prefixed by the namespace specified in the Websockets instance options.</p>
<pre class="prettyprint source lang-javascript"><code>const onPong = () => console.log(&quot;The server responds with PONG !\n&quot;)

// Listen to 'PONG' event from the server
client.on('PONG', onPong)

// Send 'PING' event to the server
await client.send('PING')

// Detach 'PONG' event listener
client.off('PONG', onPong)
</code></pre>
<br>
<ul>
<li><code>onMessage(callback: Function): Websockets</code> the <code>callback</code></li>
</ul>
<p>parameter will be triggered with each message sent from the server.</p>
<pre class="prettyprint source lang-javascript"><code>client.onMessage(data => console.log(data))
</code></pre>
<br>
<ul>
<li><code>disconnect(): void</code></li>
</ul>
<p>disconnect the WebSocket client.</p>
<pre class="prettyprint source lang-javascript"><code>client.disconnect()
</code></pre>
<br>
<ul>
<li><code>destroy(): void</code></li>
</ul>
<p>Remove all Websockets events and disconnect the WebSocket client.</p>
<pre class="prettyprint source lang-javascript"><code>client.destroy()
</code></pre>
<p><br><br></p>
<h2>Instance options</h2>
<p>TODO</p>
<p><br><br></p></article>
    </section>






        

        <footer class="content-size">
            <div class="footer">
                Documentation generated by <a target="_blank" href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Mon May 04 2020 17:59:39 GMT+0200 (GMT+02:00)
            </div>
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/main.js"></script>


</body>
</html>